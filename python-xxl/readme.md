# REC: recommendation system



- flask
- read `assessment_center_locations.csv` and `covid_neighborhood_data.csv`



## Logic

1. find nearest 20 hospitals by (x, y) coordinate
2. output:  (1 shortest distance    2 shortest distance with walk-in     3 lowest infection rate per 1 million people) hospitals
3. **`data` folder contains updated datasets. please use them for this system to work**



## Usage

```python
python rec.py	
```

send POST request to `http://localhost:5000/recommend`

format: `{"X":"-79.28466526", "Y": "43.7012714"}`



**sample response:**

```json
{
    "result": {
        "nearest": [
            {
                "PHU": "York Region Public Health Services",
                "X": -79.292138,
                "Y": 43.695869,
                "accessible": "",
                "active": "Yes",
                "additional_information": "For local residents of all ages. December 28â€“30 and January 4â€“6, 11â€“13, 18â€“20 and 25â€“27 (every Monday to Wednesday) from 1â€“6:30 p.m. Last test at 6:15 p.m. Testing may finish earlier depending on client volumes.",
                "additional_information_fr": "",
                "address": "4 The Market Place",
                "address_fr": "4 The Market Place",
                "after_hours": "",
                "age_threshold": "0m",
                "appointments": "No",
                "asl_interpretation": "",
                "assessment_centre": "Yes",
                "children_under_2": "",
                "city": "Toronto",
                "community": "121",
                "community_lab": "",
                "dist": 0.009221050312603857,
                "drive_through": "No",
                "email": "",
                "first_nations": "",
                "free_parking": "",
                "french_language_services": "",
                "friday": "",
                "general_population": "",
                "infection_rate": "3257.49368",
                "latitude": "43.695869",
                "location_id": "105",
                "location_name": "Taylor-Massey (Crescent Town) Temporary Testing Site",
                "location_name_fr": "",
                "longitude": "-79.292138",
                "monday": "13:00-18:30",
                "online_appointments": "",
                "operated_by": "Crescent Town Health Centre",
                "operated_by_fr": "",
                "paid_parking": "",
                "pharmacy": "",
                "phone": "416-469-6858",
                "phone_appointments": "",
                "phu_id": "5",
                "postal_code": "M4C 5M1",
                "province": "ON",
                "public_transit": "",
                "saturday": "",
                "sunday": "",
                "symptomatic": "Yes",
                "temporarily_closed": "",
                "thursday": "",
                "tuesday": "13:00-18:30",
                "walk_ins": "Yes",
                "website": "https://ethp.ca/main/covid19-testing",
                "wednesday": "13:00-18:30",
                "weeks_pregnant": ""
            },
            {
                "PHU": "York Region Public Health Services",
                "X": -79.292138,
                "Y": 43.695869,
                "accessible": "",
                "active": "Yes",
                "additional_information": "For local residents of all ages. December 28â€“30 and January 4â€“6, 11â€“13, 18â€“20 and 25â€“27 (every Monday to Wednesday) from 1â€“6:30 p.m. Last test at 6:15 p.m. Testing may finish earlier depending on client volumes.",
                "additional_information_fr": "",
                "address": "4 The Market Place",
                "address_fr": "4 The Market Place",
                "after_hours": "",
                "age_threshold": "0m",
                "appointments": "No",
                "asl_interpretation": "",
                "assessment_centre": "Yes",
                "children_under_2": "",
                "city": "Toronto",
                "community": "121",
                "community_lab": "",
                "dist": 0.009221050312603857,
                "drive_through": "No",
                "email": "",
                "first_nations": "",
                "free_parking": "",
                "french_language_services": "",
                "friday": "",
                "general_population": "",
                "infection_rate": "3257.49368",
                "latitude": "43.695869",
                "location_id": "105",
                "location_name": "Taylor-Massey (Crescent Town) Temporary Testing Site",
                "location_name_fr": "",
                "longitude": "-79.292138",
                "monday": "13:00-18:30",
                "online_appointments": "",
                "operated_by": "Crescent Town Health Centre",
                "operated_by_fr": "",
                "paid_parking": "",
                "pharmacy": "",
                "phone": "416-469-6858",
                "phone_appointments": "",
                "phu_id": "5",
                "postal_code": "M4C 5M1",
                "province": "ON",
                "public_transit": "",
                "saturday": "",
                "sunday": "",
                "symptomatic": "Yes",
                "temporarily_closed": "",
                "thursday": "",
                "tuesday": "13:00-18:30",
                "walk_ins": "Yes",
                "website": "https://ethp.ca/main/covid19-testing",
                "wednesday": "13:00-18:30",
                "weeks_pregnant": ""
            },
            {
                "PHU": "Toronto Public Health",
                "X": -79.250137,
                "Y": 43.7067404,
                "accessible": "",
                "active": "Yes",
                "additional_information": "Call this location to make an appointment.",
                "additional_information_fr": "Appelez cet emplacement pour prendre rendez-vous.",
                "address": "2301 Kingston Road",
                "address_fr": "2301 Kingston Road",
                "after_hours": "",
                "age_threshold": "",
                "appointments": "Yes",
                "asl_interpretation": "",
                "assessment_centre": "",
                "children_under_2": "",
                "city": "Scarborough",
                "community": "122",
                "community_lab": "",
                "dist": 0.03495869991329349,
                "drive_through": "",
                "email": "",
                "first_nations": "",
                "free_parking": "",
                "french_language_services": "",
                "friday": "08:00-22:00",
                "general_population": "",
                "infection_rate": "2651.294244",
                "latitude": "43.7067404",
                "location_id": "199",
                "location_name": "2301 Kingston Road - Shoppers Drug Mart",
                "location_name_fr": "",
                "longitude": "-79.250137",
                "monday": "08:00-22:00",
                "online_appointments": "",
                "operated_by": "Shoppers",
                "operated_by_fr": "",
                "paid_parking": "",
                "pharmacy": "Yes",
                "phone": "416-269-2171",
                "phone_appointments": "TRUE",
                "phu_id": "",
                "postal_code": "M1N 1V1",
                "province": "ON",
                "public_transit": "",
                "saturday": "08:00-22:00",
                "sunday": "08:00-22:00",
                "symptomatic": "",
                "temporarily_closed": "",
                "thursday": "08:00-22:00",
                "tuesday": "08:00-22:00",
                "walk_ins": "No",
                "website": "https://stores.shoppersdrugmart.ca/en/store/1382/",
                "wednesday": "08:00-22:00",
                "weeks_pregnant": ""
            }
        ],
        "nearest_safest": [
            {
                "PHU": "Toronto Public Health",
                "X": -79.340348,
                "Y": 43.661197,
                "accessible": "",
                "active": "Yes",
                "additional_information": "",
                "additional_information_fr": "",
                "address": "970 Queen Street East",
                "address_fr": "970, rue Queen Est",
                "after_hours": "",
                "age_threshold": "",
                "appointments": "Yes",
                "asl_interpretation": "",
                "assessment_centre": "",
                "children_under_2": "",
                "city": "Toronto",
                "community": "070",
                "community_lab": "",
                "dist": 0.06860411845704836,
                "drive_through": "",
                "email": "",
                "first_nations": "",
                "free_parking": "",
                "french_language_services": "",
                "friday": "08:00-00:00",
                "general_population": "",
                "infection_rate": "1033.146793",
                "latitude": "43.661197",
                "location_id": "270",
                "location_name": "970 Queen St. East - Shoppers Drug Mart",
                "location_name_fr": "",
                "longitude": "-79.340348",
                "monday": "08:00-00:00",
                "online_appointments": "",
                "operated_by": "Shoppers",
                "operated_by_fr": "",
                "paid_parking": "",
                "pharmacy": "Yes",
                "phone": "416-462-0062",
                "phone_appointments": "TRUE",
                "phu_id": "",
                "postal_code": "M4M 1J8",
                "province": "ON",
                "public_transit": "",
                "saturday": "08:00-00:00",
                "sunday": "08:00-00:00",
                "symptomatic": "",
                "temporarily_closed": "",
                "thursday": "08:00-00:00",
                "tuesday": "08:00-00:00",
                "walk_ins": "No",
                "website": "https://stores.shoppersdrugmart.ca/en/store/823/",
                "wednesday": "08:00-00:00",
                "weeks_pregnant": ""
            },
            {
                "PHU": "Toronto Public Health",
                "X": -79.340348,
                "Y": 43.661197,
                "accessible": "",
                "active": "Yes",
                "additional_information": "",
                "additional_information_fr": "",
                "address": "970 Queen Street East",
                "address_fr": "970, rue Queen Est",
                "after_hours": "",
                "age_threshold": "",
                "appointments": "Yes",
                "asl_interpretation": "",
                "assessment_centre": "",
                "children_under_2": "",
                "city": "Toronto",
                "community": "070",
                "community_lab": "",
                "dist": 0.06860411845704836,
                "drive_through": "",
                "email": "",
                "first_nations": "",
                "free_parking": "",
                "french_language_services": "",
                "friday": "08:00-00:00",
                "general_population": "",
                "infection_rate": "1033.146793",
                "latitude": "43.661197",
                "location_id": "270",
                "location_name": "970 Queen St. East - Shoppers Drug Mart",
                "location_name_fr": "",
                "longitude": "-79.340348",
                "monday": "08:00-00:00",
                "online_appointments": "",
                "operated_by": "Shoppers",
                "operated_by_fr": "",
                "paid_parking": "",
                "pharmacy": "Yes",
                "phone": "416-462-0062",
                "phone_appointments": "TRUE",
                "phu_id": "",
                "postal_code": "M4M 1J8",
                "province": "ON",
                "public_transit": "",
                "saturday": "08:00-00:00",
                "sunday": "08:00-00:00",
                "symptomatic": "",
                "temporarily_closed": "",
                "thursday": "08:00-00:00",
                "tuesday": "08:00-00:00",
                "walk_ins": "No",
                "website": "https://stores.shoppersdrugmart.ca/en/store/823/",
                "wednesday": "08:00-00:00",
                "weeks_pregnant": ""
            },
            {
                "PHU": "Toronto Public Health",
                "X": -79.324858,
                "Y": 43.68991,
                "accessible": "Yes",
                "active": "",
                "additional_information": "Located in the Emergency Department off of Mortimer Avenue.",
                "additional_information_fr": "",
                "address": "825 Coxwell Avenue",
                "address_fr": "825 avenue Coxwell",
                "after_hours": "",
                "age_threshold": "0m",
                "appointments": "Yes",
                "asl_interpretation": "Yes",
                "assessment_centre": "Yes",
                "children_under_2": "",
                "city": "Toronto",
                "community": "059",
                "community_lab": "",
                "dist": 0.041767664031741744,
                "drive_through": "No",
                "email": "",
                "first_nations": "",
                "free_parking": "",
                "french_language_services": "Yes",
                "friday": "00:00-00:00",
                "general_population": "",
                "infection_rate": "1222.351572",
                "latitude": "43.68991",
                "location_id": "103",
                "location_name": "Michael Garron Hospital - Emergency Department",
                "location_name_fr": "Michael Garron Hospital - Emergency Department",
                "longitude": "-79.324858",
                "monday": "00:00-00:00",
                "online_appointments": "",
                "operated_by": "Michael Garron Hospital",
                "operated_by_fr": "Hospital Michael Garron",
                "paid_parking": "Yes",
                "pharmacy": "",
                "phone": "416-469-6858",
                "phone_appointments": "",
                "phu_id": "22",
                "postal_code": "M4C 3E7",
                "province": "ON",
                "public_transit": "Yes",
                "saturday": "00:00-00:00",
                "sunday": "00:00-00:00",
                "symptomatic": "Yes",
                "temporarily_closed": "Yes",
                "thursday": "00:00-00:00",
                "tuesday": "00:00-00:00",
                "walk_ins": "Yes",
                "website": "https://www.tehn.ca/programs-services/covid-19-assessment-centre",
                "wednesday": "00:00-00:00",
                "weeks_pregnant": ""
            }
        ],
        "nearest_walk_in": [
            {
                "PHU": "York Region Public Health Services",
                "X": -79.292138,
                "Y": 43.695869,
                "accessible": "",
                "active": "Yes",
                "additional_information": "For local residents of all ages. December 28â€“30 and January 4â€“6, 11â€“13, 18â€“20 and 25â€“27 (every Monday to Wednesday) from 1â€“6:30 p.m. Last test at 6:15 p.m. Testing may finish earlier depending on client volumes.",
                "additional_information_fr": "",
                "address": "4 The Market Place",
                "address_fr": "4 The Market Place",
                "after_hours": "",
                "age_threshold": "0m",
                "appointments": "No",
                "asl_interpretation": "",
                "assessment_centre": "Yes",
                "children_under_2": "",
                "city": "Toronto",
                "community": "121",
                "community_lab": "",
                "dist": 0.009221050312603857,
                "drive_through": "No",
                "email": "",
                "first_nations": "",
                "free_parking": "",
                "french_language_services": "",
                "friday": "",
                "general_population": "",
                "infection_rate": "3257.49368",
                "latitude": "43.695869",
                "location_id": "105",
                "location_name": "Taylor-Massey (Crescent Town) Temporary Testing Site",
                "location_name_fr": "",
                "longitude": "-79.292138",
                "monday": "13:00-18:30",
                "online_appointments": "",
                "operated_by": "Crescent Town Health Centre",
                "operated_by_fr": "",
                "paid_parking": "",
                "pharmacy": "",
                "phone": "416-469-6858",
                "phone_appointments": "",
                "phu_id": "5",
                "postal_code": "M4C 5M1",
                "province": "ON",
                "public_transit": "",
                "saturday": "",
                "sunday": "",
                "symptomatic": "Yes",
                "temporarily_closed": "",
                "thursday": "",
                "tuesday": "13:00-18:30",
                "walk_ins": "Yes",
                "website": "https://ethp.ca/main/covid19-testing",
                "wednesday": "13:00-18:30",
                "weeks_pregnant": ""
            },
            {
                "PHU": "York Region Public Health Services",
                "X": -79.292138,
                "Y": 43.695869,
                "accessible": "",
                "active": "Yes",
                "additional_information": "For local residents of all ages. December 28â€“30 and January 4â€“6, 11â€“13, 18â€“20 and 25â€“27 (every Monday to Wednesday) from 1â€“6:30 p.m. Last test at 6:15 p.m. Testing may finish earlier depending on client volumes.",
                "additional_information_fr": "",
                "address": "4 The Market Place",
                "address_fr": "4 The Market Place",
                "after_hours": "",
                "age_threshold": "0m",
                "appointments": "No",
                "asl_interpretation": "",
                "assessment_centre": "Yes",
                "children_under_2": "",
                "city": "Toronto",
                "community": "121",
                "community_lab": "",
                "dist": 0.009221050312603857,
                "drive_through": "No",
                "email": "",
                "first_nations": "",
                "free_parking": "",
                "french_language_services": "",
                "friday": "",
                "general_population": "",
                "infection_rate": "3257.49368",
                "latitude": "43.695869",
                "location_id": "105",
                "location_name": "Taylor-Massey (Crescent Town) Temporary Testing Site",
                "location_name_fr": "",
                "longitude": "-79.292138",
                "monday": "13:00-18:30",
                "online_appointments": "",
                "operated_by": "Crescent Town Health Centre",
                "operated_by_fr": "",
                "paid_parking": "",
                "pharmacy": "",
                "phone": "416-469-6858",
                "phone_appointments": "",
                "phu_id": "5",
                "postal_code": "M4C 5M1",
                "province": "ON",
                "public_transit": "",
                "saturday": "",
                "sunday": "",
                "symptomatic": "Yes",
                "temporarily_closed": "",
                "thursday": "",
                "tuesday": "13:00-18:30",
                "walk_ins": "Yes",
                "website": "https://ethp.ca/main/covid19-testing",
                "wednesday": "13:00-18:30",
                "weeks_pregnant": ""
            },
            {
                "PHU": "Toronto Public Health",
                "X": -79.324858,
                "Y": 43.68991,
                "accessible": "Yes",
                "active": "",
                "additional_information": "Located in the Emergency Department off of Mortimer Avenue.",
                "additional_information_fr": "",
                "address": "825 Coxwell Avenue",
                "address_fr": "825 avenue Coxwell",
                "after_hours": "",
                "age_threshold": "0m",
                "appointments": "Yes",
                "asl_interpretation": "Yes",
                "assessment_centre": "Yes",
                "children_under_2": "",
                "city": "Toronto",
                "community": "059",
                "community_lab": "",
                "dist": 0.041767664031741744,
                "drive_through": "No",
                "email": "",
                "first_nations": "",
                "free_parking": "",
                "french_language_services": "Yes",
                "friday": "00:00-00:00",
                "general_population": "",
                "infection_rate": "1222.351572",
                "latitude": "43.68991",
                "location_id": "103",
                "location_name": "Michael Garron Hospital - Emergency Department",
                "location_name_fr": "Michael Garron Hospital - Emergency Department",
                "longitude": "-79.324858",
                "monday": "00:00-00:00",
                "online_appointments": "",
                "operated_by": "Michael Garron Hospital",
                "operated_by_fr": "Hospital Michael Garron",
                "paid_parking": "Yes",
                "pharmacy": "",
                "phone": "416-469-6858",
                "phone_appointments": "",
                "phu_id": "22",
                "postal_code": "M4C 3E7",
                "province": "ON",
                "public_transit": "Yes",
                "saturday": "00:00-00:00",
                "sunday": "00:00-00:00",
                "symptomatic": "Yes",
                "temporarily_closed": "Yes",
                "thursday": "00:00-00:00",
                "tuesday": "00:00-00:00",
                "walk_ins": "Yes",
                "website": "https://www.tehn.ca/programs-services/covid-19-assessment-centre",
                "wednesday": "00:00-00:00",
                "weeks_pregnant": ""
            }
        ]
    }
}
```





